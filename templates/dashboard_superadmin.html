{% extends 'base.html' %}
{% block title %}Super Admin Â· DentalCare{% endblock %}
{% block content %}
<section class="hero"><div class="hero-bg"></div></section>
<div class="container">
  
  {% for m in get_flashed_messages(with_categories=true) %}
    <div class="flash {{ m[0] }}">{{ m[1] }}</div>
  {% endfor %}

  <div class="admin-hero">
    <span class="badge">Control Panel</span>
    <h1 class="strong">Super Admin Dashboard</h1>
  </div>

  <div style="display: flex; gap: 1.5rem; margin: 2rem 0; flex-wrap: wrap;">
    <div class="panel" style="text-align: center; flex: 1; min-width: 180px;">
      <p class="muted" style="margin: 0 0 0.5rem; font-size: 0.9rem;">Total Accounts</p>
      <h2 style="margin: 0; color: var(--primary);">{{ counts['tbl_accounts'] }}</h2>
    </div>
    <div class="panel" style="text-align: center; flex: 1; min-width: 180px;">
      <p class="muted" style="margin: 0 0 0.5rem; font-size: 0.9rem;">Total Patients</p>
      <h2 style="margin: 0; color: var(--primary);">{{ counts['tbl_patients'] }}</h2>
    </div>
    <div class="panel" style="text-align: center; flex: 1; min-width: 180px;">
      <p class="muted" style="margin: 0 0 0.5rem; font-size: 0.9rem;">Dentists</p>
      <h2 style="margin: 0; color: var(--primary);">{{ counts['tbl_dentists'] }}</h2>
    </div>
    <div class="panel" style="text-align: center; flex: 1; min-width: 180px;">
      <p class="muted" style="margin: 0 0 0.5rem; font-size: 0.9rem;">Appointments</p>
      <h2 style="margin: 0; color: var(--primary);">{{ counts.get('tbl_appointments', 0) }}</h2>
    </div>
  </div>

  <div class="dashboard-grid">
    <a href="/super-admin/accounts" class="dashboard-card">
      <h3>ğŸ‘¥ Manage Accounts</h3>
      <p>Approve, reject, and manage all user accounts</p>
    </a>
    <a href="/super-admin/data" class="dashboard-card">
      <h3>ğŸ“Š Data Overview</h3>
      <p>View all system data and appointments</p>
    </a>
    <a href="/super-admin/logs" class="dashboard-card">
      <h3>ğŸ“‹ Activity Logs</h3>
      <p>Monitor all user activities and actions</p>
    </a>
    <a href="/account" class="dashboard-card">
      <h3>âš™ï¸ My Account</h3>
      <p>Manage your profile settings</p>
    </a>
  </div>

<!-- comment this if you dont want a reset all data -->

  <div style="margin-top: 3rem; padding: 2rem; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2); border-radius: 1rem;">
    <h3 style="color: var(--danger); margin-top: 0;">âš ï¸ Danger Zone</h3>
    <p class="muted" style="margin: 0.5rem 0;">Resetting all data will permanently delete all accounts (except Super Admin), patients, dentists, and appointments. This action cannot be undone.</p>
    <form method="post" action="/super-admin/reset" onsubmit="return confirm('This will delete ALL data except Super Admin. Continue?')" style="margin-top: 1rem;">
      <button class="btn btn-danger" type="submit">Reset All Data</button>
    </form>
  </div>
</div>
{% endblock %}
